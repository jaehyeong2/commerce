<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default-layout}">

<div class="main-content" layout:fragment="content">

    <!-- Section: Shop  -->
    <section id="shop">
        <div id="best" class="container pb-30">
            <div class="section-title text-center mb-30">
                <div class="row">
                    <div class="col-md-12">
                        <h2 class="mt-0 mb-5">Best Selling Products</h2>
                        <p>가장 인기있는 상품 리스트 TOP 10</p>
                    </div>
                </div>
            </div>
            <div class="row multi-row-clearfix">
                <div class="col-md-12">
                    <div class="products owl-carousel-4col">
                        <th:block th:if="${#lists.size(bestProductList)} > 0" th:each="bestProductList, index : ${bestProductList}">
                            <div class="item">
                                <div class="product">
                                    <span class="tag-sale" th:text="@{|${index.index + 1}위|}"><strong></strong></span>
                                    <div class="product-thumb">
                                        <img alt="" th:src="${bestProductList.getTitleImg()}" class="img-responsive img-fullwidth">
                                        <div class="overlay">
                                            <div class="btn-add-to-cart-wrapper">
                                                <a th:data-product-id="${bestProductList.getId()}" class="btn btn-theme-colored btn-sm btn-flat pl-20 pr-20 btn-add-to-cart text-uppercase font-weight-700" href="javascript:;" onclick="mainObj.makeCart(this)">Add To Cart</a>
                                            </div>
                                            <div class="btn-product-view-details">
                                                <a class="btn btn-default btn-theme-colored btn-sm btn-flat pl-20 pr-20 btn-add-to-cart text-uppercase font-weight-700" th:href="@{|/productDetails?productId=${bestProductList.getId()}|}">Product detail</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-details text-center">
                                        <a th:href="@{|/productDetails?productId=${bestProductList.getId()}|}"><h5 class="product-title" th:text="${bestProductList.getProductNm()}"></h5></a>
                                        <div class="star-rating" title="Rated 3.50 out of 5"><span th:style="@{|width: ${bestProductList.getRateAvg()}%;|}">3.50</span></div>
                                        <div class="price">
                                            <del><span class="amount" th:if="${bestProductList.getDisPrice() != 0}" th:text="@{|${bestProductList.getPrice()}원|}"></span></del><ins><span class="amount" th:text="@{|${bestProductList.getSalePrice()}원|}"></span></ins></div>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="divider bg-light">
        <div class="container pt-40 pb-40">
            <div class="row">
                <div class="">
                    <div class="col-md-5 text-center">
                        <img alt="" src="upload/discount_picture.png">
                    </div>
                    <div class="col-md-7 text-left">
                        <h4 class="mt-50 text-theme-colored mb-0">Big discount!</h4>
                        <h1 class="mt-0">Products On sale!</h1>
                        <p class="mt-10">여러 할인 중인 상품들이 있습니다.</p>
                        <a th:href="@{/saleProductList}" class="btn btn-success btn-circled mt-20">할인중인 상품 보러가기</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div id="newcollection" class="container pb-0">
            <div class="section-title text-center mb-30">
                <div class="row">
                    <div class="col-md-12">
                        <h2 class="mt-0 mb-5">New Collection</h2>
                        <p class="font-16 mt-0">신상품 리스트</p>
                    </div>
                </div>
            </div>
            <div class="row multi-row-clearfix">
                <div class="col-md-12">
                    <div class="products">
                        <th:block th:if="${#lists.size(newProductList)} > 0" th:each="newProductList, index : ${newProductList}">
                            <div class="col-sm-6 col-md-4 col-lg-3 mb-30">
                                <div class="product">
                                    <span class="tag-sale" th:if="${newProductList.getDisPrice() != 0}" th:text="@{|${newProductList.getDisPrice()}% Sale!|}"><strong></strong></span>
                                    <div class="product-thumb">
                                        <img alt="" th:src="${newProductList.getTitleImg()}" class="img-responsive img-fullwidth">
                                        <div class="overlay">
                                            <div class="btn-add-to-cart-wrapper">
                                                <a th:data-product-id="${newProductList.getId()}" class="btn btn-theme-colored btn-sm btn-flat pl-20 pr-20 btn-add-to-cart text-uppercase font-weight-700" href="javascript:;" onclick="mainObj.makeCart(this)">Add To Cart</a>
                                            </div>
                                            <div class="btn-product-view-details">
                                                <a class="btn btn-default btn-theme-colored btn-sm btn-flat pl-20 pr-20 btn-add-to-cart text-uppercase font-weight-700" th:href="@{|/productDetails?productId=${newProductList.getId()}|}">Product detail</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-details text-center">
                                        <a th:href="@{|/productDetails?productId=${newProductList.getId()}|}"><h5 class="product-title" th:text="${newProductList.getProductNm()}"></h5></a>
                                        <div class="star-rating" title="Rated 3.50 out of 5"><span th:style="@{|width: ${newProductList.getRateAvg()}%;|}">3.50</span></div>
                                        <div class="price"><del><span class="amount" th:if="${newProductList.getDisPrice() != 0}" th:text="@{|${newProductList.getPrice()}원|}"></span></del><ins><span class="amount" th:text="@{|${newProductList.getSalePrice()}원|}"></span></ins></div>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                    </div>
                </div>
            </div>
        </div>
    </section>

</div>